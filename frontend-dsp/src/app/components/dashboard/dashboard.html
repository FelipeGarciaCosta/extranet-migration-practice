<div class="dashboard-container">
  <nav class="navbar">
    <div class="navbar-content">
      <h1 class="navbar-title">Dashboard - Sistema DSP</h1>
      <div class="navbar-actions">
        <span class="user-info" *ngIf="currentUser">
          ğŸ‘¤ {{ currentUser.username }}
          <span class="user-roles">
            <span *ngFor="let role of currentUser.roles" class="role-badge">
              {{ role }}
            </span>
          </span>
        </span>
        <button class="logout-button" (click)="logout()">
          Cerrar SesiÃ³n
        </button>
      </div>
    </div>
  </nav>

  <main class="main-content">
    <div class="welcome-card">
      <h2>Â¡Bienvenido, {{ currentUser?.username }}! ğŸ‰</h2>
      <p>Has iniciado sesiÃ³n correctamente en el sistema.</p>
    </div>

    <div class="info-grid">
      <div class="info-card">
        <div class="info-icon">ğŸ”</div>
        <h3>AutenticaciÃ³n JWT</h3>
        <p>Tu sesiÃ³n estÃ¡ protegida con JSON Web Token</p>
      </div>

      <div class="info-card">
        <div class="info-icon">ğŸ›¡ï¸</div>
        <h3>Spring Security</h3>
        <p>Backend protegido con Spring Security</p>
      </div>

      <div class="info-card">
        <div class="info-icon">âš¡</div>
        <h3>Angular 20</h3>
        <p>Frontend moderno con Angular standalone</p>
      </div>

      <div class="info-card" *ngIf="hasRole('ROLE_ADMIN')">
        <div class="info-icon">ğŸ‘‘</div>
        <h3>Administrador</h3>
        <p>Tienes permisos de administrador</p>
      </div>

      <!-- Nueva tarjeta para navegar a clientes -->
      <div class="info-card action-card" (click)="navigateToClientes()">
        <div class="info-icon">ğŸ‘¥</div>
        <h3>Ver Clientes</h3>
        <p>Gestionar clientes del sistema</p>
      </div>
      <!-- Nueva tarjeta para navegar a contactos -->
       <div class="info-card action-card" (click)="navigateToContactos()">
        <div class="info-icon">ğŸ‘¥</div>
        <h3>Ver Contactos</h3>
        <p>Gestionar contactos del sistema</p>
      </div>
    </div>

    <div class="token-section">
      <h3>InformaciÃ³n de tu sesiÃ³n</h3>
      <div class="token-info">
        <p><strong>Usuario:</strong> {{ currentUser?.username }}</p>
        <p><strong>Roles:</strong> {{ currentUser?.roles?.join(', ') }}</p>
        <p><strong>Token JWT:</strong></p>
        <div class="token-display">
          {{ currentUser?.token?.substring(0, 50) }}
        </div>
        <p class="token-note">
          ğŸ’¡ Este token se envÃ­a automÃ¡ticamente en todas las peticiones HTTP al backend
        </p>
      </div>
    </div>
  </main>
</div>
